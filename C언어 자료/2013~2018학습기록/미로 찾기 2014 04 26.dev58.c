 
#define xx 20
#define yy 20
#include <stdio.h>
#include <stdlib.h>
#include <time.h>


int m[xx][yy]={
	{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},	
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},	
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},	
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},	
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},	
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2},
	{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2}};
int si, sj, ei, ej, s;
int visit(int, int);
void printmap();
void map();
int main (void)
{
	s=0;
	si=1, sj=1, ei=18, ej=18;
	map();
	m[si][sj] =0; m[ei][ej]=0;
	if(visit(si, sj)==0) printf("X");
	else printf("\n");
}
int visit(int i, int j)
{
	m[i][j]=1;
	printf("%d %d, \n", i, j);
	printmap();
	if(ei==i && ej==j) s=1;
	if(s!=1 && (m[i][j+1])==0)visit(i, j+1);
	if(s!=1 && (m[i+1][j])==0)visit(i+1, j);
	if(s!=1 && (m[i][j-1])==0)visit(i, j-1);
	if(s!=1 && (m[i-1][j])==0)visit(i-1, j);
	if(s==1) printf("(%d %d)", i, j);
	return s;
}
void printmap(){
	int i, j;
	for(i=0; i<20;i++)
	{
		for(j=0;j<20;j++)
		{
			if(m[i][j]==2) printf("X");
			if(m[i][j]==1) printf("O");
			if(m[i][j]==0) printf("*");
			
		}
		printf("\n");
	}
	printf("\n");
}
void map()
{
	int i, j;
	srand(time(NULL));
	for(i=0;i<xx;i++)
	{
		for(j=0;j<yy;j++)
		{
			m[i][j]=rand()%2;
			if(m[i][j]==1) m[i][j] +=1;
			m[0][j]=2;
			m[yy-1][j]=2;
			m[i][0]=2;
			m[i][xx-1]=2; 
		}
	}
	printmap();
	
}
